type: collection.insomnia.rest/5.0
schema_version: "5.1"
name: Tool rental API
meta:
  id: wrk_56e43d84cfcb48cbbb078b09bc970327
  created: 1771777082662
  modified: 1771777082662
  description: ""
collection:
  - name: Tool rental API
    meta:
      id: fld_3f1109effbfc4c45adb23b660ffa732a
      created: 1771766069344
      modified: 1771777109982
      sortKey: -1771766058905
      description: ""
    children:
      - url: "{{ _['Base URL'] }}/status"
        name: Status
        meta:
          id: req_6977f5b7758844ef86a8bfd7375f6d9e
          created: 1771766069347
          modified: 1771770476617
          isPrivate: false
          description: ""
          sortKey: -1771766058904
        method: GET
        authentication:
          type: bearer
          token: 3950ca2ed5638007585a86f169efc077848d961256bc8c997b8dd7cd30612bd9
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });\r

            insomnia.test(\"Status is UP\", () => {\r

            \    const response = insomnia.response.json();\r

            \    //console.log(response.status);Doesnt always return the
            property\r

            \    console.log(response[\"status\"]);\r

            \    insomnia.expect(response.status).to.eql(\"UP\");\r

            });"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _['Base URL'] }}/tools"
        name: Get all Tools with Query Params
        meta:
          id: req_e0a157998cb94804909007eda74cf120
          created: 1771766069349
          modified: 1771774829714
          isPrivate: false
          description: ""
          sortKey: -1771766058903
        method: GET
        body:
          mimeType: application/json
          text: ""
        parameters:
          - name: category
            value: trailers
            disabled: true
          - name: category
            value: lawn-care
            disabled: true
          - name: category
            value: "{{category}}"
            disabled: false
            type: text
            multiline: false
          - name: available
            value: "true"
            disabled: false
          - name: id
            value: "{{ _.toolId }}"
            disabled: false
          - name: results
            value: "10"
            disabled: true
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          token: 3950ca2ed5638007585a86f169efc077848d961256bc8c997b8dd7cd30612bd9
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });\r

            \r

            const response = insomnia.response.json();\r

            const tools = response.filter((tool) => tool.inStock === true);\r

            \r

            const tool = tools[1];\r

            \r

            if (tool){\r

            \    insomnia.globals.set(\"toolId\",tool.id);\r

            }\r

            \r

            insomnia.test(\"Tool Found\", () => {\r

            \    insomnia.expect(tool).to.exist; // Ensure tool exists\r

            \    insomnia.expect(tool.inStock).to.eql(true);\r

            \    insomnia.expect(tool.category).to.eql(insomnia.collectionVaria\
            bles.get(\"category\")); // Ensure category matches\r

            \    insomnia.expect(tool.inStock).to.be.true;\r

            });\r\n"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _['Base URL'] }}/tools/:toolId"
        name: Get a Single Tool
        meta:
          id: req_cf60d96e942e47bc8d8a9496a0260788
          created: 1771766069351
          modified: 1771774975773
          isPrivate: false
          description: ""
          sortKey: -1771766058902
        method: GET
        parameters:
          - name: category
            value: trailers
            disabled: false
            type: text
            multiline: false
          - name: category
            value: electric-generators
            description: ""
            disabled: false
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });\r

            \r

            insomnia.test(\"Check tool\", () => {\r

            const response = insomnia.response.json();\r

            insomnia.expect(response.id).to.eql(insomnia.globals.get('toolId'));\
            \r

            //insomnia.expect(1).to.be.above(2);\r

            insomnia.expect(response[\"current-stock\"]).to.be.above(5); //test
            that your current stock is above 5\r

            });\r\n"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
        pathParameters:
          - name: toolId
            value: toolId
      - url: "{{ _['Base URL'] }}/tools/:toolId"
        name: Get Single Tools | Path Variables & Query Parameters
        meta:
          id: req_c347e7843ca845cfaca49dffdcf3144d
          created: 1771766069353
          modified: 1771767594266
          isPrivate: false
          description: ""
          sortKey: -1771766058901
        method: GET
        parameters:
          - name: category
            value: ladders
            disabled: true
          - name: user-manual
            value: "true"
            disabled: false
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });\r

            insomnia.execution.setNextRequest(\"Create Orders with random
            data\"); //This syntax has been deprecated, whcih allows you to skip
            past the next test \r

            insomnia.execution.setNextRequest(\"Create Orders with random
            data\");"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
        pathParameters:
          - name: toolId
            value: "4875"
      - url: "{{ _['Base URL'] }}/api-clients"
        name: Register API
        meta:
          id: req_bddb5dd2dc1d40d3886666a400917978
          created: 1771766069357
          modified: 1771766637391
          isPrivate: false
          description: ""
          sortKey: -1771766058900
        method: POST
        body:
          mimeType: application/json
          text: |-
            {
               "clientName": "Postman",
               "clientEmail": "liezel@gmail.com"
            }
        headers:
          - name: Content-Type
            value: application/json
        scripts:
          afterResponse: "insomnia.test(\"Status code is 409\", () => {\r

            \    insomnia.response.to.have.status(409);\r

            });\r\n"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _['Base URL'] }}/orders"
        name: Create Orders with random data
        meta:
          id: req_a797006bc20443bea87dc5330d99b9e9
          created: 1771766069360
          modified: 1771774503369
          isPrivate: false
          description: ""
          sortKey: -1771766058899
        method: POST
        body:
          mimeType: application/json
          text: |+
            {
              "toolId":"{{ _.toolId }}", 
              "customerName":"{% faker 'randomFullName' %}" 
            }

        headers:
          - name: Content-Type
            value: application/json
          - name: Connection
            value: keep-alive
            description: ""
            disabled: false
        authentication:
          type: bearer
          disabled: false
          token: "{{ _['API Access Token'] }}"
          prefix: ""
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _['Base URL'] }}/orders"
        name: Get all Orders
        meta:
          id: req_6d084f29c6ef48dd8b74e351869131a0
          created: 1771766069362
          modified: 1771774564791
          isPrivate: false
          description: ""
          sortKey: -1771766058898
        method: GET
        body:
          mimeType: application/json
          text: ""
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          disabled: false
          token: "{{ _['API Access Token'] }}"
          prefix: ""
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });\r

            \r\n"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
      - url: "{{ _['Base URL'] }}/orders/:orderId"
        name: Get a Single Order
        meta:
          id: req_edca79765e6e4eff96f6c2fe2f87b16c
          created: 1771766069363
          modified: 1771774967347
          isPrivate: false
          description: ""
          sortKey: -1771766058897
        method: GET
        authentication:
          type: bearer
          disabled: false
          token: "{{ _['API Access Token'] }}"
          prefix: ""
        scripts:
          afterResponse: "insomnia.test(\"Status code is 200\", () => {\r

            \    insomnia.response.to.have.status(200);\r

            });"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
        pathParameters:
          - name: orderId
            value: "{{ _.orderId }}"
      - url: "{{ _['Base URL'] }}/orders/:orderId"
        name: Update Order
        meta:
          id: req_1053b633809a46d8b86e05fd369da23d
          created: 1771766069365
          modified: 1771774729167
          isPrivate: false
          description: ""
          sortKey: -1771766058896
        method: PATCH
        body:
          mimeType: application/json
          text: |-
            {
                "orderId":"{{orderId}}",
                "comment":"Pick the order up at 12:15pm / 06 September 2025"
            }
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          disabled: false
          token: "{{ _['API Access Token'] }}"
          prefix: ""
        scripts:
          afterResponse: "insomnia.test(\"Status code is 204\", () => {\r

            \    insomnia.response.to.have.status(204);\r

            });"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
        pathParameters:
          - name: orderId
            value: "{{orderId}}"
      - url: "{{Base URL}}/orders/:orderId"
        name: Delete Order
        meta:
          id: req_c2841a4ac1684aff90c43ac8e6608178
          created: 1771766069367
          modified: 1771766069367
          isPrivate: false
          description: ""
          sortKey: -1771766058895
        method: DELETE
        body:
          mimeType: application/json
          text: "{\r

            \    \"orderId\":\"RC1-nKA3TU66JELZYbvin\"\r

            }"
        headers:
          - name: Content-Type
            value: application/json
        authentication:
          type: bearer
          disabled: false
          token: "{{API Access Token}}"
          prefix: ""
        scripts:
          afterResponse: "insomnia.test(\"Status code is 204\", () => {\r

            \    insomnia.response.to.have.status(204);\r

            });"
        settings:
          renderRequestBody: true
          encodeUrl: true
          followRedirects: global
          cookies:
            send: true
            store: true
          rebuildPath: true
        pathParameters:
          - name: orderId
            value: "{{orderId}}"
    authentication:
      type: bearer
      disabled: true
cookieJar:
  name: Default Jar
  meta:
    id: jar_f0bc697354bb4c66b7629739930e69ab
    created: 1771766069377
    modified: 1771777109976
environments:
  name: Variables
  meta:
    id: env_ac7d20c424314a43bc05e2f10f96c8ba
    created: 1771766069368
    modified: 1771777109980
    isPrivate: false
  data:
    Base URL: https://simple-tool-rental-api.click
    password: hdTest5427$%^
    API Access Token: 25ec661b117706291ff72bcd9b88cca7d3923e26a301bb7a4f07d3250e74454d
    firstName: Liezel
    category: electric-generators
    customerName: faker.fullname
    toolId: "6843"
  subEnvironments:
    - name: Global Insomnia POC
      meta:
        id: env_3a6c23f58e5842ebaa1685cd9fad5bb0
        created: 1771770858644
        modified: 1771777109978
        isPrivate: false
        sortKey: 1771770858644
      data:
        Base URL: https://simple-tool-rental-api.click
        password: hdTest5427$%^
        API Access Token: 25ec661b117706291ff72bcd9b88cca7d3923e26a301bb7a4f07d3250e74454d
        firstName: Liezel
        category: electric-generators
        toolId: "6483"
        orderId: z0-k962PY3Q9YPSAst0DR
      color: "#183e22"
